name: éƒ¨ç½²æµ‹è¯•ç¯å¢ƒ
on:
  push:
    branches:
      - dev
  pull_request:
    branches:
      - master

jobs:
  build:

    runs-on: ubuntu-latest	

    steps:
    - uses: actions/checkout@v2.0.0
    - name: ä¸‹é¢å¼€å§‹è·‘éƒ¨ç½²ç¯å¢ƒğŸ‘‡
      run:
        yarn add
        yarn build
    - name: cos é…ç½®
      env:
        APPID: 1256581102
        REGION: ap-shanghai
        BUCKET: blog-1256581102	
        SECRET_ID: ${{ secrets.TENCENTCLOUD_SECRET_ID }}
        SECRET_KEY: ${{ secrets.TENCENTCLOUD_SECRET_KEY }}
      run: coscmd config -a $SECRET_ID -s $SECRET_KEY -b $BUCKET -r $REGION	
    - name: ä¸Šä¼ åˆ° cos	
      run: coscmd upload -rs ./ / --ignore "./.git/*"
